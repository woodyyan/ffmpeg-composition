# è§†é¢‘å¤„ç†

ä¼ å…¥è§†é¢‘å¤„ç†éœ€è¦çš„å‚æ•°ï¼Œå°±å¯ä»¥å¯¹è§†é¢‘è¿›è¡Œç›¸å…³çš„å¤„ç†ã€‚ç›®å‰ä»…æ”¯æŒå¯¹å•ä¸ªè§†é¢‘è¿›è¡Œå¤„ç†ã€‚

> ğŸ’¡ ç›®å‰ä¸æ”¯æŒå¤§å°è¶…è¿‡500Mçš„è§†é¢‘ã€‚

**æ”¯æŒçš„åŠŸèƒ½åˆ—è¡¨ï¼š**

1. æ·»åŠ æ–‡å­—
    1. æ”¯æŒæŒ‡å®šæ–‡å­—ä½ç½®
    2. æ”¯æŒæŒ‡å®šæ–‡å­—å¤§å°
    3. æ”¯æŒæ–‡å­—åº•å±‚è’™ç‰ˆå¯é…ç½®
    4. æ”¯æŒæŒ‡å®šæ–‡å­—é¢œè‰²`å¾…å¼€å‘`
    5. æ”¯æŒä¿®æ”¹æ–‡å­—å­—ä½“
    6. æ”¯æŒä¸åŒæ–‡å­—æŒ‡å®šä¸åŒå­—ä½“
    7. æ”¯æŒæ–‡å­—å‡ºåœºå…¥åœºåŠ¨ç”»`å¾…å¼€å‘`
    8. æ”¯æŒç»™æ–‡å­—æ·»åŠ åŠé€æ˜åº•æ¿
2. è§†é¢‘è½¬æ¢
    1. è½¬æ¢åˆ†è¾¨ç‡ï¼Œæ¨ªå±å˜ç«–å±ï¼Œä¸Šä¸‹è¡¥é»‘è¾¹
    2. 2.0æ”¯æŒè½¬æ¢ç ç‡å’Œå¸§ç‡`å¾…å¼€å‘`
3. æ·»åŠ å›¾ç‰‡
    1. æ”¯æŒæŒ‡å®šå›¾ç‰‡ä½ç½®å’Œå¤§å°
    2. 2.0æ”¯æŒæŒ‡å®šå›¾ç‰‡å½¢çŠ¶`å¾…å¼€å‘`
4. ä¸Šä¼ è§†é¢‘
   1. æ”¯æŒä¸Šä¼ VOD
   2. æ”¯æŒæŒ‡å®šåˆ†ç±»æ–‡ä»¶å¤¹
   3. æ”¯æŒç»“æœå›è°ƒ
    

è¯·æ±‚JSONï¼š

```jsx
{
    "Action": "CompositionVideo",
    "Data": {
        "Input": {
            "URL": "xxxx",
            "Audio": true,
            "CallbackURL": "https://xxxx/release/callback",
            "Resolution": {
                "Width": 1600,
                "Height": 900
            },
            "Framerate": 15,
            "Bitrate": 500,
            "Texts": [
                {
                    "Content": "xxxx",
                    "X": 1,
                    "Y": 2,
                    "Size": 3,
                    "EnableBox": true,
                    "Font": "STHeitiLight.ttc"
                },
                {
                    "Content": "xxxx",
                    "X": 1,
                    "Y": 2,
                    "Size": 3,
                    "EnableBox": false,
                    "Font": "STHeitiLight.ttc"
                }
            ],
            "Pictures": [
                {
                    "URL": "xxxx.jpg",
                    "X": 1,
                    "Y": 2,
                    "Width": 3,
                    "Height": 3,
                }
            ]
        },
        "Output": {
            "Vod": {
                "Region": "ap-beijing",
                "SubAppId": 101, 
                "ClassId": 0
            }
        }
    }
}
```

å­—æ®µè§£é‡Š

| å­—æ®µ | ç±»å‹ | è§£é‡Š |
| --- | --- | --- |
| URL | string | è¦å¤„ç†çš„è§†é¢‘é“¾æ¥ |
| Audio | bool | æ˜¯å¦ä¿ç•™éŸ³é¢‘ |
| CallbackURL | string | å›è°ƒURL |
| TargetVideoSpec.Resolution | int | ç›®æ ‡åˆ†è¾¨ç‡ |
| TargetVideoSpec.Framerate | int | ç›®æ ‡å¸§ç‡ |
| TargetVideoSpec.Bitrate | int | ç›®æ ‡ç ç‡ |
| Texts | list | è¦æ·»åŠ çš„å¤šç§æ–‡å­—ï¼Œx,yè¡¨è¾¾å¼è¯·å‚è€ƒä¸‹é¢ã€‚ |
| Text.EnableBox | bool | é»˜è®¤å€¼æ˜¯falseï¼Œå¦‚æœä¸ºtrueåˆ™è¡¨ç¤ºç»™æ–‡å­—åŠ ä¸Šåº•éƒ¨è’™å±‚ |
| Text.Font | string | æŒ‡å®šè¯¥æ–‡å­—è¦ç”¨çš„å­—ä½“ï¼Œä¸å¡«å°±æ˜¯é»˜è®¤å­—ä½“ã€‚å­—ä½“æ–‡ä»¶æ”¾åœ¨å±‚é‡Œé¢ï¼Œè¿™é‡Œå‚æ•°ååªéœ€å¡«æ–‡ä»¶åï¼Œå¦‚STHeitiLight.ttcã€‚å­—ä½“æ–‡ä»¶ç›´æ¥æ‰“åŒ…ä¸Šä¼ å±‚ï¼Œä¸éœ€è¦æ·»åŠ æ–‡ä»¶å¤¹ã€‚éœ€è¦åœ¨å‡½æ•°ä¸­ç»‘å®šå±‚ã€‚ |
| Pictures | list | è¦æ·»åŠ çš„å¤šå¼ å›¾ç‰‡ |
| Region | int | è¦ä¸Šä¼ çš„VODçš„åœ°åŸŸ |
| SubAppId | int | è¦ä¸Šä¼ çš„VODçš„subappid |
| ClassId | int | è¦ä¸Šä¼ çš„VODçš„åˆ†ç±»ID(é»˜è®¤å€¼0) |

Textsçš„xå’Œyæ”¯æŒä»¥ä¸‹è¡¨è¾¾å¼ï¼š
- Top left:Â `x=0:y=0`Â (with 10 pixel paddingÂ `x=10:y=10`)
- Top center:Â `x=(w-text_w)/2:y=0`Â (with 10 px paddingÂ `x=(w-text_w)/2:y=10`)
- Top right:Â `x=w-tw:y=0`Â (with 10 px padding:Â `x=w-tw-10:y=10`)
- Centered:Â `x=(w-text_w)/2:y=(h-text_h)/2`
- Bottom left:Â `x=0:y=h-th`Â (with 10 px padding:Â `x=10:y=h-th-10`)
- Bottom center:Â `x=(w-text_w)/2:y=h-th`Â (with 10 px padding:Â `x=(w-text_w)/2:y=h-th-10`)
- Bottom right:Â `x=w-tw:y=h-th`Â (with 10 px padding:Â `x=w-tw-10:y=h-th-10`)

æˆåŠŸå›è°ƒJSONï¼š

```jsx
{
    "Result": "Success",
    "Data": {
        "OutputUrl": "xxxxx"
    },
    "RequestId": "xxxxxx"
}
```

å¤±è´¥å›è°ƒJSONï¼š

```jsx
{
    "Result": "Failure",
    "ErrorCode": "InternalError",
    "ErrorMessage": "internal error: xxxx",
    "RequestId": "xxxx"
}
```